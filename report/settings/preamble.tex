\PassOptionsToPackage{table}{xcolor}
\documentclass[openright,twoside,10pt]{memoir}
\synctex=1

% DOCUMENT LAYOUT
\usepackage{xltxtra} % includes fixltx2e, metalogo, xunicode, fontspec
\setromanfont[Ligatures=TeX,Numbers={Lining},BoldFont={Libre Baskerville Bold},BoldItalicFont={Libre Baskerville Bold},BoldItalicFeatures={Scale=0.7,FakeSlant=0.2},BoldFeatures={Scale=0.7}]{EB Garamond}
\setmonofont[Scale=0.8]{Consolas}
\setsansfont[Scale=0.9]{Optima}
\usepackage[protrusion=true,factor=2000]{microtype} 


% TABLE OF CONTENTS
\setsecnumdepth{subsection}
\setlength{\beforechapskip}{0pt}
\setlength{\afterchapskip}{10pt} % vspace under chapters
\setlength{\belowcaptionskip}{-8pt} % vspace mellem caption og tekst
\setlength{\cftparskip}{0pt}
\setlength{\cftbeforechapterskip}{6pt}
\setlength{\cftbeforepartskip}{14pt}

%math
\usepackage{amsmath}
\usepackage[group-separator={,}]{siunitx}

% LANGUAGE
\usepackage{polyglossia} %XeTeX babel
\setdefaultlanguage[variant=uk]{english}

% For \smallsetminus
\usepackage{ amssymb }

%TIKZ
\usepackage{fancybox}
\usepackage{tikz}
\usetikzlibrary{calc,trees,positioning,arrows,chains,shapes.geometric,%
    decorations.pathreplacing,decorations.pathmorphing,shapes,%
    matrix,shapes.symbols}
        
\tikzset{
>=stealth',
  punktchain/.style={
    rectangle, rounded corners, draw=black, very thick, 
    text width=6em, minimum height=1.5em, 
    text centered, on chain},
  combtree/.style={
    rectangle, rounded corners, draw=black, very thick, 
    text width=5em, minimum height=1.5em, 
    text centered, on chain},
  line/.style={draw, thick, <-},
  element/.style={tape, top color=white, 
  	bottom color=blue!50!black!60!, minimum width=8em,
    draw=blue!40!black!90, very thick, text width=10em, 
    minimum height=3.5em, text centered, on chain},
  every join/.style={->, thick,shorten >=1pt},
  decoration={brace},
  tuborg/.style={decorate, very thick},
  tubnode/.style={midway, right=2pt},
}
\tikzstyle{square}=[rectangle, draw, rounded corners=1mm, solid]

% OTHER
\usepackage{tabularx} % tabularx
\usepackage{epstopdf} % to include eps files
\usepackage{enumitem} % for [noitemsep] in enumerate/itemize lists
\graphicspath{ {images/} }
\usepackage{color}
\usepackage{multicol}
\usepackage{array}
\usepackage{listings}	%for code examples
%\usepackage{microtype}
\usepackage{caption}
\usepackage{hyperref}

%---- CODE LISTING STYLING
% Taken from: http://stackoverflow.com/questions/741985/latex-source-code-listing-like-in-professional-books
\lstset{
  basicstyle=\footnotesize\ttfamily, 
  numbers=left,              
  numberstyle=\tiny,        
  numbersep=5pt,
  tabsize=2,
  extendedchars=true,
  breaklines=true,
  keywordstyle=\color{red},
  frame=b,         
  stringstyle=\color{cyan}\ttfamily,
  showspaces=false,
  showtabs=false,
  xleftmargin=17pt,
  framexleftmargin=17pt,
  framexrightmargin=5pt,
  framexbottommargin=4pt,
         backgroundcolor=\color{lightgray},
  showstringspaces=false
}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2\em#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}
%----

% grammar stuff

% PARAGRAPH SPACING
\parskip=5pt plus 2pt minus 1pt
\parindent=0pt

% WIDER MARGINS
\let\oldmarginpar\marginpar
\renewcommand\marginpar[1]{\-\oldmarginpar[\raggedleft\footnotesize #1]%
{\raggedright\footnotesize\color{red} #1}}
% Margins
\setstocksize{11in}{8.5in}
\settrimmedsize{11in}{8.5in}{*}
\settrims{0in}{0in}
\settypeblocksize{9.0in}{6in}{*}
\setlrmargins{1.25in}{*}{*}
\setulmargins{1.0in}{*}{*}
\setheadfoot{14pt}{26pt}
\setheaderspaces{*}{13pt}{*}

% Fra settings.tex
\setlrmarginsandblock{3.5cm}{2.5cm}{*}
\setulmarginsandblock{2.5cm}{3.0cm}{*}

\checkandfixthelayout

% CHANGE BULLETS IN ITEMIZE
\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\circ$}
\renewcommand{\labelitemiii}{$\cdot$}

%colors
\definecolor{shcomment}{rgb}{0.12, 0.38, 0.18 }
\definecolor{shkeyword}{rgb}{0.37, 0.08, 0.25}  % #5F1441
\definecolor{shstring}{rgb}{0.06, 0.10, 0.98} % #101AF9

%table colors
\usepackage{colortbl}
\definecolor{lightgray}{rgb}{0.95, 0.95, 0.95}

% macros
\input{settings/macros}
\input{settings/chapstyles}

\chapterstyle{d402e13}


% Pygments syntex highlightning
\usepackage{fancyvrb}
\input{settings/pygments}




