\section{Predefined types and constants}
\label{sec:predefined}

In order to write programs in a programming language, it is often necessary to use a number of built-in
functions and types. \productname{} provides a number of built-in functions and constants, as well as 
a number of simple types for representing values such as integers and strings. \productname{} also provides
a type-hierarchy designed for implementing and expressing board games. The build-ins will in many cases make
the lives of \productname{}-programmers easier since he/she won't have to implement the functionality the built-ins
provide for themselves. 

Since \productname{} doesn't have a module, package or name space system, the distinction between a standard-
and game environment doesn't actually exist in the language, and all types and constants exist in the same
global name space. The distinction between the two is merely formal and based on the sort of types and functionality
that each provide.
 
\subsection{Standard environment}
\label{sec:standardenvironment}

We now introduce the standard environment of \productname{}. The standard environment provides the simple types, such as
integers, strings, boolean values etc. and their related functions and constants for working with the these.

The following global constants are available:

\begin{dlist}
  \item \constdef{typeOf}{[\farg{value}{\opstar}]}{Type}\\
    A function that returns the type of any value.
  \item \constdef{union}{[\farg{list}{List}, ... \farg{lists}{List}]}{List}\\
    A function that returns the union of a number of lists.
  \item \constdef{true}{}{Boolean}\\
    The boolean true value.
  \item \constdef{false}{}{Boolean}\\
    The boolean false value.
\end{dlist}

\subsubsection{Integer}

\begin{dlist}
  \item \type{Integer}[\variable{integer} : \type{Integer}]\\
The standard environment provides the Integer type, which is implemented as Java's primitive data type, integer. That is
it's a 32-bit signed two's complement integer. When the interpreter detects a numeral it returns an integer value object. If
for instance the numeral exceeds the highest possible value a TypeError is thrown.
\end{dlist}

\subsubsection{Boolean}

\begin{dlist}
  \item \type{Boolean}[\variable{boolean} : \type{Boolean}]\\
  The standard environment provides the Boolean type, which is implemented as Java's primitive data type, boolean. That is, it only has two possible values: true and false. Even though the data type represents only one bit of information, according to the Java documentation, the ``size'' isn't precisely defined. 
\end{dlist}

\subsubsection{String}
\begin{dlist}
  \item \type{String}[\variable{string} : \type{String}]\\
  The standard environment provides the String type, which is implemented as Java's data type, String. That is, it may contain any unicode (UTF-16) characters. Though it is not possible to writ unicode characters of the form ``\textbackslash{}uXXXX'' as in Java (like for instance ``\textbackslash{}u0108'', which is a capital C with circumflex). The String type contains one built-in constant:  
  \item \constant{size} : \type{Integer}\\
  The size constant returns the number of characters in the string, which is an integer value. For example ``test\_string''.size = 11
\end{dlist}
\subsubsection{List}

\begin{dlist}
  \item \type{List}[\variable{list} : \type{List}]\\
  The standard environment provides the List type. A list object can contain a mix of any types: strings, integers, other lists, game objects etc.
  This has both advantages and disadvantages. It increases the orthogonality of the programming language but it increases the risk of getting
  errors, which doesn't show until at run-time. The List type is similar to the ArrayList of Java and it's resizeable, which means that types can be added to the List. The type comes with a number of built-in constants and functions. 
  \item \constant{size} : \type{Integer}\\
  The size constant returns the number of elements in the list, which is an integer value. For example [``hi'', 2, 4].size = 3.
  \item \constant{sort}[\variable{comparator} : \type{Function}] : \type{List} \\
  The sort function sorts a list using a function that must take two parameters as input and return an integer value. For example [1, 6, 2, 5, 4, 3].sort[\#[\$a, \$b] $=>$ if \$a > \$b then 1 else if \$a == \$b then 0 else -1]. Will sort the list in ascending order. That is [1, 2, 3, 4, 5, 6].
  \item \constant{map}[\variable{mapper} : \type{Function}] : \type{List} \\
  The map function maps each element of the list with a function of style \#[\$a] => \$a. The function must take one parameter. For example [1, 2, 3, 4, 5, 6].map[\#[\$a] => \$a + 1] will return the list: [2, 3, 4, 5, 6, 7].
  \item \constant{filter}[\variable{filter} : \type{Function}] : \type{List} \\
  The filter function filters a list by feeding it with a function of style \#[\$a] => \$a >= 5, and returns a list with only the elements which comply with the function. The function fed to the filter function must take one parameter and return a boolean value. For example [1, 2, 3, 4, 5, 6].filter[\#[\$a] => \$a >= 5] will return [5, 6]. 
\end{dlist}

\subsubsection{Direction}
\begin{dlist}
  \item \type{Direction}[\variable{direction} : \type{Direction}]\\
  The standard environment provides the Direction type, which can be compared to vectors. There are eight different directions: n (north), s (south), w (west), e (east), nw, ne, sw, se. The type consist of a x value and an y value. For example n has value y = 1 and x = 0, s has value y = -1 and x = 0, w has value y = 0 and x = -1 etc. The Direction type is meant as a practical tool when specifying the movements on a board.  
\end{dlist}

\subsubsection{Coordinate}
\begin{dlist}
  \item \type{Coordinate}[\variable{coordinate} : \type{Coordinate}]\\
  The standard environment provides the Coordinate type. The Coordinate type is closely related to the Direction type in the way that it also consist of a x 
\end{dlist}
\subsubsection{Type}

\subsubsection{Function}

\begin{dlist}
  \item \constdef{call}{[\farg{parameters}{List}]}{\opstar}\\
    Calls the function with the specified parameter list. 
\end{dlist}

\subsubsection{Pattern}

\subsection{Game environment}
\label{sec:gameenvironment}

The game environment provides a class hierachy for describing a board game in an object-oriented manner.

\subsubsection{Game}

\subsubsection{Board}

\subsubsection{GridBoard}

\subsubsection{Square}

\subsubsection{Piece}

\subsubsection{Player}

\subsubsection{Action}

\subsubsection{ActionSequence}

\subsubsection{UnitAction}

\subsubsection{AddAction}

\subsubsection{MoveAction}

\subsubsection{RemoveAction}

\subsubsection{TestCase}
