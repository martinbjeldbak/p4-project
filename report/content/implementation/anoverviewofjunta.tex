\section{An overview of the implementation of \productname{}}
\label{anoverviewofjunta}

The intention of this section is to give a concise overview of \productname{}'s
components and how they are connected, as a conclusion for this chapter. In the
previous sections we introduced all these components and explained them
thoroughly.

Figure \ref{fig:cake} presents how these components actually are connected.

\input{figures/cake}

The numbers seen in the figure is the sequence of stages in which programs 
written in \productname{} will go through before they are playable. The first
arrow ($1$) is when a user inputs a program and the last arrow ($12$) is when
the program is ready to be played.

The following enumeration explains what each number the arrows have:

\begin{nlist}
\item File location
\item Stream characters
\item Stream of characters
\item Stream of tokens
\item Stream of tokens
\item Abstract Syntax Tree
\item Abstract Syntax Tree
\item Abstract Syntax Tree
\item Symbol table and Abstract Syntax Tree
\item Symbol table
\item Game
\item Fun with playable board games
\end{nlist}

The Simulator begins by accepting a file location as input. Then the Game
Abstraction Layer (GAL) receives a stream of characters from this file at that
location. The GAL forwards the stream of characters to the Scanner, which scans
the input and outputs a stream of tokens to the GAL. The GAL again forwards the
stream of tokens to the Parser, which parses the input and outputs an Abstract
Syntax Tree (AST) to the GAL. The GAL once again forwards the AST to the Scope
checker, which checks the AST for errors and outputs the checked AST to the GAL.
One last time, the GAL forwards the AST (now with a symbol table) to the 
Interpreter, which vists every node and interprets the input. The Interpreter
outputs the symbol table to GAL, and GAL sends a playable game to the Simulator,
which now makes it possible to play the board game.

All this can of course be interrupted if there is an error in the program. In
this case a suitable error will be thrown. If no errors are encountered then it
is possible to see the game in the Simulator and the visualised game can be played.
