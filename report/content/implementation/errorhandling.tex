\section{Error handling}

In the different phases of the interpreter lots of errors can occur. In the scanning phase for instance,
a scanning error can occur if the scanner detects a string, which doesn't correspond to one of our language's specified lexemes. In the parsing phase a syntax error can occur if two or more tokens are not set up syntactically correct according to our grammar. In order to catch these errors we have implemented error handlers, which extends the build-in Java class Exception (Java.lang.Exception). An error can be of big annoyance for a programmer if no information of what caused it is provided. So the function of the error handlers are to give the programmer of junta games a better chance for figuring out what he has done wrong and make it easier for him to correct the errors by for instance referring to where in the source code and error has occurred and what caused it. We have created an error hierarchy in order to give an overview of our different error handlers. The hierarchy is illustrated in \figref{ast:errorhierarchy}. 


\begin{figure}[ht]
	\begin{center}
		\begin{tikzpicture}
			\node [square] (a) {Exception}
  				child {node [square,xshift=0cm] (b) {Error}
  					child {node [square,xshift=-4.5cm] (c) {syntaxError}
  						child {node [square,xshift=0.0cm] (d) {ScannerError}}
  					}
  					child {node [square,xshift=0cm] (e) {StandardError}
  						child {node [square,xshift=-0.5cm] (f) {ScopeError}}
  						child {node [square,xshift=0.5cm] (g) {InternalError}}
  						child {node [square,xshift=1.5cm] (h) {TypeError}}
  						child {node [square,xshift=2.5cm] (i) {ArgumentError}
  							child {node [square,xshift=0.0cm] (j) {DivideByZeroError}}
  						}
  						child {node [square,xshift=3.5cm] (k) {NameError}}
  					}
  					child {node [square,xshift=4.5cm] (l) {SimulatorError}}
  				};
  			\draw[<-, thick,] (a) -- (b);
    		\draw[<-, thick,] (b) -- (c);
    		\draw[<-, thick,] (c) -- (d);
    		\draw[<-, thick,] (b) -- (e);
    		\draw[<-, thick,] (e) -- (f);
    		\draw[<-, thick,] (e) -- (g);
    		\draw[<-, thick,] (e) -- (h);
    		\draw[<-, thick,] (e) -- (i);
    		\draw[<-, thick,] (e) -- (k);
    		\draw[<-, thick,] (i) -- (j);
    		\draw[<-, thick,] (b) -- (l);
		\end{tikzpicture}
	\end{center}
	\capt{An illustration of the error hierarchy as it is implemented in the interpreter}
	\label{ast:errorhierarchy}
\end{figure}

\begin{description}
\item[\textbf{Exception}] At the top of the error hierarchy Java's standard error handling concept is located, which is called Exception (java.lang.Exception). Exception is a build-in Java class that extends the Throwable class which is the superclass of all errors and exceptions in Java. Only Throwable or subclasses of Throwable can be the argument type in a catch clause and only objects that are instances of this class or it's subclasses can be thrown by the Java throw statement. (kilde: http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html).  

\item[\textbf{Error}] Extends the Exception class. Error is an abstract class which contains two abstract methods: GetColumn() and GetLine().

\item[\textbf{SyntaxError}] Extends the Error class and is used in the parser to handle syntactic errors. A syntactic error occurs if a token doesn't correspond to the currently expected token according to the grammar. SyntaxError outputs a message and information about the line and offset of the token that caused the error. 

\item[\textbf{ScannerError}] Extends the SyntaxError class and is used in the scanner to handle lexical errors. A lexical error occurs if the programmer makes a typo, e.g. writes ``defin'' instead of ``define'' or if he/she in other ways doesn't follow the regulations of Junta's lexemes e.g. writes the first letter in a type name in lower case letters. Like syntaxError, ScannerError outputs a message and information about the line and offset of the token that cause the error.  

\item[\textbf{StandardError}] Extends the Error class. The StandardError class is used in the interpretation phase to handle errors with nodes in the Abstract syntax tree.  

\item[\textbf{ScopeError}] Extends the StandardError class

\item[\textbf{InternalError}]

\item[\textbf{TypeError}]

\item[\textbf{ArgumentError}]

\item[\textbf{NameError}]

\item[\textbf{DivideByZeroError}]

\item[\textbf{SimulatorError}]
\end{description}


    
% Talk about how, where, and why errors are thrown in the different packages
% ..and how they're implemented
